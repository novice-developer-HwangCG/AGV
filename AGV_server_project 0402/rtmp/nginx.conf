worker_processes 1;

events {
    worker_connections 1024;
}

rtmp {
    server {
        listen 1935;
        chunk_size 4096;

        application live {
            live on;
            record off;

            # optional: allow only publishing from specific IP
            # allow publish 192.168.0.0/24;
            # deny publish all;
        }
    }
}

http {
    include       mime.types;
    default_type  application/octet-stream;

    sendfile        on;
    keepalive_timeout  65;

    server {
        listen 8080;

        location / {
            root   html;
            index  index.html index.htm;
        }

        # HLS 요청 처리 (선택사항, HLS 추가 시)
        # location /hls {
        #     types {
        #         application/vnd.apple.mpegurl m3u8;
        #         video/mp2t ts;
        #     }
        #     root /tmp;
        #     add_header Cache-Control no-cache;
        #     add_header Access-Control-Allow-Origin *;
        # }
    }
}
